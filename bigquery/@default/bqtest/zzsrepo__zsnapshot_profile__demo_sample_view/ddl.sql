CREATE TABLE IF NOT EXISTS `bqtest.zzsrepo__zsnapshot_profile__demo_sample_view`
(
  unique_key STRING,
  revision_hash STRING,
  valid_from TIMESTAMP,
  valid_to TIMESTAMP,
  entity STRUCT<partition_key DATE, group_keys INT64, count INT64, unique_key__nonnull INT64, unique_key__unique INT64, unique_key__hll BYTES, unique_key__avg_len FLOAT64, unique_key__min_len INT64, unique_key__max_len INT64, complaint_description__nonnull INT64, complaint_description__unique INT64, complaint_description__hll BYTES, complaint_description__avg_len FLOAT64, complaint_description__min_len INT64, complaint_description__max_len INT64, source__nonnull INT64, source__unique INT64, source__hll BYTES, source__avg_len FLOAT64, source__min_len INT64, source__max_len INT64, status__nonnull INT64, status__unique INT64, status__hll BYTES, status__avg_len FLOAT64, status__min_len INT64, status__max_len INT64, status_change_date__nonnull INT64, status_change_date__day_hll BYTES, status_change_date__min TIMESTAMP, status_change_date__max TIMESTAMP, created_date__nonnull INT64, created_date__day_hll BYTES, created_date__min TIMESTAMP, created_date__max TIMESTAMP, last_update_date__nonnull INT64, last_update_date__day_hll BYTES, last_update_date__min TIMESTAMP, last_update_date__max TIMESTAMP, close_date__nonnull INT64, close_date__day_hll BYTES, close_date__min TIMESTAMP, close_date__max TIMESTAMP, incident_address__nonnull INT64, incident_address__unique INT64, incident_address__hll BYTES, incident_address__avg_len FLOAT64, incident_address__min_len INT64, incident_address__max_len INT64, street_number__nonnull INT64, street_number__unique INT64, street_number__hll BYTES, street_number__avg_len FLOAT64, street_number__min_len INT64, street_number__max_len INT64, street_name__nonnull INT64, street_name__unique INT64, street_name__hll BYTES, street_name__avg_len FLOAT64, street_name__min_len INT64, street_name__max_len INT64, city__nonnull INT64, city__unique INT64, city__hll BYTES, city__avg_len FLOAT64, city__min_len INT64, city__max_len INT64, incident_zip__nonnull INT64, incident_zip__unique INT64, incident_zip__hll BYTES, incident_zip__sum BIGNUMERIC, incident_zip__sum2 BIGNUMERIC, incident_zip__avg FLOAT64, incident_zip__min INT64, incident_zip__max INT64, county__nonnull INT64, county__unique INT64, county__hll BYTES, county__avg_len FLOAT64, county__min_len INT64, county__max_len INT64, state_plane_x_coordinate__nonnull INT64, state_plane_x_coordinate__unique INT64, state_plane_x_coordinate__hll BYTES, state_plane_x_coordinate__avg_len FLOAT64, state_plane_x_coordinate__min_len INT64, state_plane_x_coordinate__max_len INT64, state_plane_y_coordinate__nonnull INT64, state_plane_y_coordinate__sum BIGNUMERIC, state_plane_y_coordinate__avg FLOAT64, state_plane_y_coordinate__min FLOAT64, state_plane_y_coordinate__max FLOAT64, latitude__nonnull INT64, latitude__sum BIGNUMERIC, latitude__avg FLOAT64, latitude__min FLOAT64, latitude__max FLOAT64, longitude__nonnull INT64, longitude__sum BIGNUMERIC, longitude__avg FLOAT64, longitude__min FLOAT64, longitude__max FLOAT64, location__nonnull INT64, location__unique INT64, location__hll BYTES, location__avg_len FLOAT64, location__min_len INT64, location__max_len INT64, council_district_code__nonnull INT64, council_district_code__unique INT64, council_district_code__hll BYTES, council_district_code__sum BIGNUMERIC, council_district_code__sum2 BIGNUMERIC, council_district_code__avg FLOAT64, council_district_code__min INT64, council_district_code__max INT64, map_page__nonnull INT64, map_page__unique INT64, map_page__hll BYTES, map_page__avg_len FLOAT64, map_page__min_len INT64, map_page__max_len INT64, map_tile__nonnull INT64, map_tile__unique INT64, map_tile__hll BYTES, map_tile__avg_len FLOAT64, map_tile__min_len INT64, map_tile__max_len INT64>
)
PARTITION BY DATE(valid_to)
CLUSTER BY valid_from;